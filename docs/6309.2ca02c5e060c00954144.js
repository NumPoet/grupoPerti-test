(self.webpackChunkSergioNegreteVillegas=self.webpackChunkSergioNegreteVillegas||[]).push([[6309],{6309:(i,e,o)=>{"use strict";o.r(e),o.d(e,{LoginPageModule:()=>f});var n=o(8583),t=o(665),r=o(3083),s=o(2316);function a(i,e,o,n){return new(o||(o=Promise))(function(t,r){function s(i){try{l(n.next(i))}catch(e){r(e)}}function a(i){try{l(n.throw(i))}catch(e){r(e)}}function l(i){var e;i.done?t(i.value):(e=i.value,e instanceof o?e:new o(function(i){i(e)})).then(s,a)}l((n=n.apply(i,e||[])).next())})}var l=o(639),c=o(1628);let g=(()=>{class i{constructor(i){this.storage=i}login(i,e){return a(this,void 0,void 0,function*(){let o=yield this.storage.get("email"),n=yield this.storage.get("password");return new Promise(t=>{t(i==o&&e==n)})})}register(i,e,o){return new Promise(n=>{try{this.storage.set("email",i),this.storage.set("nombre",e),this.storage.set("password",o),n(!0)}catch(t){n(!1)}})}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(c.K))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),d=(()=>{class i{constructor(i){this.alertController=i}alertaExcepcion(i){return a(this,void 0,void 0,function*(){const e=yield this.alertController.create({message:i,buttons:["OK"]});yield e.present();const{role:o}=yield e.onDidDismiss();console.log("onDidDismiss resolved with role",o)})}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(r.Br))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const u=["slidePrincipal"],Z=function(i){return{"pick-avatar-seleccionado":i}};function p(i,e){if(1&i){const i=l.EpF();l.TgZ(0,"ion-slide"),l.TgZ(1,"ion-img",15),l.NdJ("click",function(){const e=l.CHM(i).$implicit;return l.oxw().selecionarAvatar(e)}),l.qZA(),l.qZA()}if(2&i){const i=e.$implicit;l.xp6(1),l.MGl("src","../assets/avatars/",i.img,""),l.Q6J("ngClass",l.VKq(2,Z,i.seleccionado))}}const m=[{path:"",component:(()=>{class i{constructor(i,e,o,n){this.usuarioService=i,this.storage=e,this.navCtrl=o,this.uiService=n,this.avatarSlide={slidesPerView:3.5},this.primerSlide={allowSlideNext:!1,allowSlidePrev:!1},this.loginUser={email:"",password:""},this.registerUser={email:"",nombre:"",password:""},this.avatars=[{img:"av-1.png",seleccionado:!0},{img:"av-2.png",seleccionado:!1},{img:"av-3.png",seleccionado:!1},{img:"av-4.png",seleccionado:!1},{img:"av-5.png",seleccionado:!1},{img:"av-6.png",seleccionado:!1},{img:"av-7.png",seleccionado:!1},{img:"av-8.png",seleccionado:!1}]}ngOnInit(){return a(this,void 0,void 0,function*(){yield this.storage.create()})}login(i){return a(this,void 0,void 0,function*(){(yield this.usuarioService.login(this.loginUser.email,this.loginUser.password))?this.navCtrl.navigateRoot("/main/tabs/tab1",{animated:!0}):this.uiService.alertaExcepcion("El correo y/o contrase\xf1a NO est\xe1n registrados")})}registro(i){return a(this,void 0,void 0,function*(){(yield this.usuarioService.register(this.registerUser.email,this.registerUser.nombre,this.registerUser.password))?(this.slides1.lockSwipes(!1),this.slides1.slideTo(0)):this.uiService.alertaExcepcion("Error al registrar")})}selecionarAvatar(i){this.avatars.forEach(i=>i.seleccionado=!1),i.seleccionado=!0}mostrarRegistro(){this.slides1.lockSwipes(!1),this.slides1.slideTo(1),this.slides1.lockSwipes(!0)}mostrarLogin(){this.slides1.lockSwipes(!1),this.slides1.slideTo(0),this.slides1.lockSwipes(!0)}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(g),l.Y36(c.K),l.Y36(r.SH),l.Y36(d))},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-login"]],viewQuery:function(i,e){if(1&i&&l.Gf(u,5),2&i){let i;l.iGM(i=l.CRH())&&(e.slides1=i.first)}},decls:65,vars:10,consts:[[1,"mainSlide",3,"options"],["slidePrincipal",""],[3,"ngSubmit"],["fLogin","ngForm"],["fixed",""],["src","./assets/avatars/av-2.png"],["name","email","type","email","required","",3,"ngModel","ngModelChange"],["name","password","type","password","required","",3,"ngModel","ngModelChange"],["type","submit","color","tertiary","shape","round",3,"disabled"],[3,"options"],[4,"ngFor","ngForOf"],["fRegistro","ngForm"],["name","nombre","type","text","required","",3,"ngModel","ngModelChange"],["no-border",""],["shape","round","expand","full","size","small","fill","outline","color","tertiary",3,"click"],[1,"pick-avatar",3,"src","ngClass","click"]],template:function(i,e){if(1&i){const i=l.EpF();l.TgZ(0,"ion-content"),l.TgZ(1,"ion-slides",0,1),l.TgZ(3,"ion-slide"),l.TgZ(4,"form",2,3),l.NdJ("ngSubmit",function(){l.CHM(i);const o=l.MAs(5);return e.login(o)}),l.TgZ(6,"ion-grid",4),l.TgZ(7,"ion-row"),l.TgZ(8,"ion-col"),l._UZ(9,"img",5),l.qZA(),l.qZA(),l.TgZ(10,"ion-row"),l.TgZ(11,"ion-col"),l.TgZ(12,"ion-list"),l.TgZ(13,"ion-item"),l.TgZ(14,"ion-label"),l._uU(15,"Email"),l.qZA(),l.TgZ(16,"ion-input",6),l.NdJ("ngModelChange",function(i){return e.loginUser.email=i}),l.qZA(),l.qZA(),l.TgZ(17,"ion-item"),l.TgZ(18,"ion-label"),l._uU(19,"Password"),l.qZA(),l.TgZ(20,"ion-input",7),l.NdJ("ngModelChange",function(i){return e.loginUser.password=i}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(21,"ion-row"),l.TgZ(22,"ion-col"),l.TgZ(23,"ion-button",8),l._uU(24," Login "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(25,"ion-slide"),l.TgZ(26,"ion-grid",4),l.TgZ(27,"ion-row"),l.TgZ(28,"ion-col"),l.TgZ(29,"h3"),l._uU(30,"Seleccione Avatar"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(31,"ion-row"),l.TgZ(32,"ion-col"),l.TgZ(33,"ion-slides",9),l.YNc(34,p,2,4,"ion-slide",10),l.qZA(),l.qZA(),l.qZA(),l.TgZ(35,"form",2,11),l.NdJ("ngSubmit",function(){l.CHM(i);const o=l.MAs(36);return e.registro(o)}),l.TgZ(37,"ion-row"),l.TgZ(38,"ion-col"),l.TgZ(39,"ion-list"),l.TgZ(40,"ion-item"),l.TgZ(41,"ion-label"),l._uU(42,"Email"),l.qZA(),l.TgZ(43,"ion-input",6),l.NdJ("ngModelChange",function(i){return e.registerUser.email=i}),l.qZA(),l.qZA(),l.TgZ(44,"ion-item"),l.TgZ(45,"ion-label"),l._uU(46,"Nombre"),l.qZA(),l.TgZ(47,"ion-input",12),l.NdJ("ngModelChange",function(i){return e.registerUser.nombre=i}),l.qZA(),l.qZA(),l.TgZ(48,"ion-item"),l.TgZ(49,"ion-label"),l._uU(50,"Password"),l.qZA(),l.TgZ(51,"ion-input",7),l.NdJ("ngModelChange",function(i){return e.registerUser.password=i}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(52,"ion-row"),l.TgZ(53,"ion-col"),l.TgZ(54,"ion-button",8),l._uU(55," Crear usuario "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(56,"ion-footer",13),l.TgZ(57,"ion-toolbar"),l.TgZ(58,"ion-row"),l.TgZ(59,"ion-col"),l.TgZ(60,"ion-button",14),l.NdJ("click",function(){return e.mostrarLogin()}),l._uU(61," Ingresar "),l.qZA(),l.qZA(),l.TgZ(62,"ion-col"),l.TgZ(63,"ion-button",14),l.NdJ("click",function(){return e.mostrarRegistro()}),l._uU(64," Registrarme "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&i){const i=l.MAs(5),o=l.MAs(36);l.xp6(1),l.Q6J("options",e.primerSlide),l.xp6(15),l.Q6J("ngModel",e.loginUser.email),l.xp6(4),l.Q6J("ngModel",e.loginUser.password),l.xp6(3),l.Q6J("disabled",i.invalid),l.xp6(10),l.Q6J("options",e.avatarSlide),l.xp6(1),l.Q6J("ngForOf",e.avatars),l.xp6(9),l.Q6J("ngModel",e.registerUser.email),l.xp6(4),l.Q6J("ngModel",e.registerUser.nombre),l.xp6(4),l.Q6J("ngModel",e.registerUser.password),l.xp6(3),l.Q6J("disabled",o.invalid)}},directives:[r.W2,r.Hr,r.A$,t._Y,t.JL,t.F,r.jY,r.Nd,r.wI,r.q_,r.Ie,r.Q$,r.pK,r.j9,t.Q7,t.JJ,t.On,r.YG,n.sg,r.fr,r.sr,r.Xz,n.mk],styles:[".mainSlide[_ngcontent-%COMP%], .mainSlide[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]{width:100%;height:100%}img[_ngcontent-%COMP%]{width:120px}.pick-avatar[_ngcontent-%COMP%]{width:80px;opacity:.3}.pick-avatar-seleccionado[_ngcontent-%COMP%]{transition:opacity .5s linear;opacity:1!important}"]}),i})()}];let h=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({imports:[[s.Bz.forChild(m)],s.Bz]}),i})(),f=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({imports:[[n.ez,t.u5,r.Pc,h]]}),i})()}}]);